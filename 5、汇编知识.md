汇编知识

寄存器相关



**在PC用的16位CPU 8086、8088中，寄存器的名字分别是：**

**一般寄存器（4个数据寄存器）：**

​	AX：累加器（累积暂存器）【Accumulator，处理加法乘法指令】

​	BX：基址寄存器（基底暂存器）【Base Register，在内存寻址时存放基地址】

​	CX：计数寄存器（计数暂存器）【Counter Register，是重复REP前缀指令和LOOP指令的内定计数器】

​	DX：数据寄存器（资料暂存器）【Data  Register，被用来放整数除法产生的余数】

**堆栈、基底暂存器（2个指针寄存器）：**

​	SP：堆栈指针（堆叠指标暂存器）【Stack Pointer，专门用作堆栈指针，通常用来存放当前线程栈顶指针，形象称为栈顶指针】

​	BP：基址指针（基底指标暂存器）【Base Pointer，通常用来存放当前线程的栈底指针】

**索引暂存器（2个变址和指针寄存器）：**

​	SI：源变址寄存器（来源索引暂存器）【Source Index Register】

​	DI：目的变址寄存器（目的索引暂存器）【Destination Index Register】



IP：指令指针（下一个CPU指令存放的内存地址），当CPU执行完当前的指令后，从IP寄存器中读取下一条指令的内存地址，然后继续执行





**在386以上的32位CPU中（X86），这些寄存器扩展成了32位，名字由原来的名字有前面加一个”E”（Extended），变成：**

**一般寄存器（4个数据寄存器）：**

​	EAX：累加器（累积暂存器）【Accumulator，处理加法乘法指令（一般用来保存函数的返回值）】

​	EBX：基址寄存器（基底暂存器）【Base Register，在内存寻址时存放基地址】

​	ECX：计数寄存器（计数暂存器）【Counter Register，是重复REP前缀指令和LOOP指令的内定计数器】

​	EDX：数据寄存器（资料暂存器）【Data  Register，被用来放整数除法产生的余数】

**堆栈、基底暂存器（2个指针寄存器）：**

​	ESP：堆栈指针（堆叠指标暂存器）【Stack Pointer，专门用作堆栈指针，通常用来存放当前线程栈顶指针，形象称为栈顶指针：其内存放着一个指针，该指针指向系统栈最上面一个栈帧的栈顶】

​	EBP：基址指针（基底指标暂存器）【Base Pointer，通常用来存放当前线程的栈底指针：其内存放着一个指针，该指针永远指向系统栈最上面一个栈帧的底部】

**索引暂存器（2个变址和指针寄存器）：**

​	ESI：源变址寄存器（来源索引暂存器）【Source Index  Register】

​	EDI：目的变址寄存器（目的索引暂存器）【Destination Index Register】



EIP：指令指针（下一个CPU指令存放的内存地址），当CPU执行完当前的指令后，从IP寄存器中读取下一条指令的内存地址，然后继续执行









如果用C语言来解释，可以把这些寄存器当作变量来看待，如：

ADD EAX,-2; //可以看作：给变量EAX加上-2这样的一个值；





2个重要的指针寄存器（ESP和EBP):

都是和“栈”有关（先进后出的数据结构），常见操作：Push(入栈)、Pop(出栈)

PUSH：为栈增加一个元素的操作，相当于在最上面再放一个元素；

POP: 从栈中取出一个元素，相当于取出最上面的一个元素；

TOP：标识栈顶位置，并且是动态变化的。每做一次PUSH操作，它都会自增1；相反，每做一次POP操作，它都会自减1；

BASE：标识栈底位置，记录最下面一个元素的位置，用于防止栈空后继续弹框；



指令：

MOV：是传送数据的指令

